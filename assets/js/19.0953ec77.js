(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{338:function(t,s,a){"use strict";a.r(s);var n=a(15),v=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_6-高级-假人脚本文档-教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-高级-假人脚本文档-教程"}},[t._v("#")]),t._v(" 6. 高级 - 假人脚本文档 & 教程")]),t._v(" "),s("h2",{attrs:{id:"基本介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[t._v("#")]),t._v(" 基本介绍")]),t._v(" "),s("p",[t._v("0.35.0及以上版本中内置了假人执行脚本功能。为了使用该功能首先需要编写脚本文件，然后将其放在"),s("code",[t._v("根目录/plugins/trapdoor/scripts/")]),t._v("目录内部。然后在游戏内部使用指令"),s("code",[t._v("/player <name: string> script <file: string> [interval: int] [errorstop: Boolean]")]),t._v("指令加载脚本文件即可让特定假人执行该脚本。")]),t._v(" "),s("p",[t._v("脚本使用Lua5.4.2进行编写，内部必须要有"),s("code",[t._v("Init()")]),t._v("和"),s("code",[t._v("Tick()")]),t._v("两个函数，其他的随意，一个最简单的可用脚本如下所示：")]),t._v(" "),s("div",{staticClass:"language-lua extra-class"},[s("pre",{pre:!0,attrs:{class:"language-lua"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Tick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("p",[t._v("当使用"),s("code",[t._v("player script")]),t._v("子命令加载该脚本后，会立即执行一遍"),s("code",[t._v("Init()")]),t._v("函数，然后根据命令传入的参数每隔"),s("code",[t._v("interval")]),t._v("gt执行一次"),s("code",[t._v("Tick()")]),t._v("函数，这称为脚本的一次"),s("strong",[t._v("更新")]),t._v("。"),s("code",[t._v("errstop")]),t._v("参数表示是否再执行出错后停止假人的脚本行为，默认为"),s("code",[t._v("true")]),t._v("，一般可不用修改。")]),t._v(" "),s("h2",{attrs:{id:"内置类型和变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内置类型和变量"}},[t._v("#")]),t._v(" 内置类型和变量")]),t._v(" "),s("p",[s("code",[t._v("Tradpoor")]),t._v("为脚本提供了一些内置API和类型用于方便脚本编写，下面进行详细介绍。")]),t._v(" "),s("blockquote",[s("p",[t._v("从这里开始使用"),s("code",[t._v("float")]),t._v("和"),s("code",[t._v("int")]),t._v("分别代指浮点和整数类型的"),s("code",[t._v("number")])])]),t._v(" "),s("h3",{attrs:{id:"内置类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内置类型"}},[t._v("#")]),t._v(" 内置类型")]),t._v(" "),s("h4",{attrs:{id:"blockpos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blockpos"}},[t._v("#")]),t._v(" "),s("code",[t._v("BlockPos")])]),t._v(" "),s("p",[t._v("整数坐标,也叫方块坐标,用于方块坐标和区块坐标等")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("成员")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("解释")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("x")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("x坐标")])]),t._v(" "),s("tr",[s("td",[t._v("y")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("y坐标")])]),t._v(" "),s("tr",[s("td",[t._v("z")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("z坐标")])]),t._v(" "),s("tr",[s("td",[t._v("new(x,y,z),new()")]),t._v(" "),s("td",[t._v("构造函数")]),t._v(" "),s("td")])])]),t._v(" "),s("h4",{attrs:{id:"vec3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vec3"}},[t._v("#")]),t._v(" "),s("code",[t._v("Vec3")])]),t._v(" "),s("p",[t._v("浮点坐标,也叫世界坐标,用于视角,实体位置等")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("成员")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("解释")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("x")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("x坐标")])]),t._v(" "),s("tr",[s("td",[t._v("y")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("y坐标")])]),t._v(" "),s("tr",[s("td",[t._v("z")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("z坐标")])]),t._v(" "),s("tr",[s("td",[t._v("new(x,y,z),new()")]),t._v(" "),s("td",[t._v("构造函数")]),t._v(" "),s("td")])])]),t._v(" "),s("h4",{attrs:{id:"blockinfo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blockinfo"}},[t._v("#")]),t._v(" "),s("code",[t._v("BlockInfo")])]),t._v(" "),s("p",[t._v("方块基本信息")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("成员")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("解释")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("id")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("方块id")])]),t._v(" "),s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("字符串")]),t._v(" "),s("td",[t._v("方块名字(不包括"),s("code",[t._v("minecraft:")]),t._v("前缀)")])]),t._v(" "),s("tr",[s("td",[t._v("variant")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("方块数据值")])])])]),t._v(" "),s("h4",{attrs:{id:"itemstackinfo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#itemstackinfo"}},[t._v("#")]),t._v(" "),s("code",[t._v("ItemStackInfo")])]),t._v(" "),s("p",[t._v("物品堆叠基本信息")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("成员")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("解释")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("id")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("物品id")])]),t._v(" "),s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("字符串")]),t._v(" "),s("td",[t._v("物品名字(不包括"),s("code",[t._v("minecraft:")]),t._v("前缀)")])]),t._v(" "),s("tr",[s("td",[t._v("count")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("物品堆叠的数量")])]),t._v(" "),s("tr",[s("td",[t._v("aux")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("物品的数据值")])]),t._v(" "),s("tr",[s("td",[t._v("damage")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("物品的当前耐久值")])])])]),t._v(" "),s("h3",{attrs:{id:"内置变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内置变量"}},[t._v("#")]),t._v(" 内置变量")]),t._v(" "),s("p",[t._v("内置变量是通过脚本操作假人的基本手段,"),s("strong",[t._v("请不要对内置变量重新赋值")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"bot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bot"}},[t._v("#")]),t._v(" Bot")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("函数原型")]),t._v(" "),s("th",[t._v("解释")]),t._v(" "),s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("返回值")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("BlockPos getStandOn()")])]),t._v(" "),s("td",[t._v("获取假人站立的方块坐标")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人站立的方块坐标")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Vec3 getPos()")])]),t._v(" "),s("td",[t._v("获取假人自身的标准实体坐标")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人自身的标准实体坐标")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Vec3 getViewVector()")])]),t._v(" "),s("td",[t._v("获取假人的视线向量")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人的视线向量")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("BlockPos getBlockPosFromView()")])]),t._v(" "),s("td",[t._v("获取假人指向的方块坐标")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人指向的方块坐标")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("float getHungry()")])]),t._v(" "),s("td",[t._v("获取假人的饥饿值")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人的饥饿值")]),t._v(" "),s("td",[t._v("最大值待补充")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("int getHealth()")])]),t._v(" "),s("td",[t._v("获取假人血量")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人血量")]),t._v(" "),s("td",[t._v("最大值待补充")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("int getDirection()")])]),t._v(" "),s("td",[t._v("获取假人看的方向")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("假人看向的方向,返回0~5这六个值，代表不同的方向")]),t._v(" "),s("td",[t._v("六个值表示的具体方向未知")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ItemStackInfo getItemStackInfoInSlot(slot: int)")])]),t._v(" "),s("td",[t._v("获取假人背包内某个槽位的物品基本信息")]),t._v(" "),s("td",[t._v("槽位，0~8代表物品栏，9~35表示背包")]),t._v(" "),s("td",[t._v("物品基本信息")]),t._v(" "),s("td",[t._v("暂不支持盔甲栏和副手")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("void say(msg: string)")])]),t._v(" "),s("td",[t._v("向服务器广播一条信息")]),t._v(" "),s("td",[t._v("消息")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("也会输出在控制台，谨防刷屏")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("bool jump()")])]),t._v(" "),s("td",[t._v("假人跳跃")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("操作是否成功")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("void lookAt(v: Vec3)")])]),t._v(" "),s("td",[t._v("假人看向某个世界坐标")]),t._v(" "),s("td",[t._v("要看向的坐标")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("bool selectItem(name: string)")])]),t._v(" "),s("td",[t._v("假人从背包搜索某个物品并和主手交换")]),t._v(" "),s("td",[t._v("搜索的物品名字")]),t._v(" "),s("td",[t._v("操作是否成功（背包内有该物品就会成功）")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("bool destroyPosition(pos: BlockPos)")])]),t._v(" "),s("td",[t._v("假人左键某个方块")]),t._v(" "),s("td",[t._v("方块坐标")]),t._v(" "),s("td",[t._v("操作是否成功")]),t._v(" "),s("td",[t._v("默认使用主手工具")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("int useItemOnPosition(name: string, pos: BlockPos,face: int)")])]),t._v(" "),s("td",[t._v("假人使用物品右键某个方块")]),t._v(" "),s("td",[s("code",[t._v("name")]),t._v("代表物品名字，"),s("code",[t._v("pos")]),t._v("表示方块坐标，face表示要交互的面选填0~5")]),t._v(" "),s("td",[t._v("-1：背包没有该物品"),s("br"),t._v("1：有物品但是操作失败"),s("br"),t._v("0：操作成功")]),t._v(" "),s("td",[t._v("会自动从背包搜索物品并切到主手")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("bool interactPosition(pos: blockPos, face: int)")])]),t._v(" "),s("td",[t._v("假人和某个方块交互（工作台，箱子等）")]),t._v(" "),s("td",[s("code",[t._v("pos")]),t._v("表示方块坐标，"),s("code",[t._v("face")]),t._v("表示要交互的面，选填0~5")]),t._v(" "),s("td",[t._v("操作是否成功")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("bool useItem()")])]),t._v(" "),s("td",[t._v("假人使用物品")]),t._v(" "),s("td",[t._v("要使用的物品名字")]),t._v(" "),s("td",[t._v("-1：背包没有该物品"),s("br"),t._v("1：有物品但是操作失败"),s("br"),t._v("0：操作成功")]),t._v(" "),s("td",[t._v("会自动从背包搜索物品并切到主手")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("bool attack()")])]),t._v(" "),s("td",[t._v("假人左键攻击")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("操作是否成功")]),t._v(" "),s("td",[t._v("空挥攻击，暂时不支持指定实体")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("dropItemInSlot(slot: int)")])]),t._v(" "),s("td",[t._v("假人丢出背包内某个栏位的物品，")]),t._v(" "),s("td",[t._v("槽位，0~8代表物品栏，9~35表示背包")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("void moveTo(vec: Vec3)")])]),t._v(" "),s("td",[t._v("假人直线移动到某个位置")]),t._v(" "),s("td",[t._v("目标位置")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("非瞬间完成的动作")])])])]),t._v(" "),s("h4",{attrs:{id:"level"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#level"}},[t._v("#")]),t._v(" Level")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("函数原型")]),t._v(" "),s("th",[t._v("解释")]),t._v(" "),s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("返回值")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("getTick()")])]),t._v(" "),s("td",[t._v("获取当前游戏刻")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("当前游戏刻")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("getTime()")])]),t._v(" "),s("td",[t._v("获取游戏内时间")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("游戏内时间")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("getMeanMspt()")])]),t._v(" "),s("td",[t._v("获取当前MSPT")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("当前MSPT")]),t._v(" "),s("td")])])]),t._v(" "),s("h4",{attrs:{id:"region"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#region"}},[t._v("#")]),t._v(" Region")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("函数原型")]),t._v(" "),s("th",[t._v("解释")]),t._v(" "),s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("返回值")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("BlockInfo getBlockInfo(pos: BlockPos)")])]),t._v(" "),s("td",[t._v("获取特定位置的方块信息")]),t._v(" "),s("td",[t._v("坐标")]),t._v(" "),s("td",[t._v("方块信息")]),t._v(" "),s("td")])])]),t._v(" "),s("h2",{attrs:{id:"教程和示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教程和示例"}},[t._v("#")]),t._v(" 教程和示例")]),t._v(" "),s("h3",{attrs:{id:"教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教程"}},[t._v("#")]),t._v(" 教程")]),t._v(" "),s("p",[t._v("对于没有任何编程基础的玩家，请直接网上搜索Lua教程，学习最基本的部分即可。")]),t._v(" "),s("p",[t._v("对于有"),s("code",[t._v("C/C++/Java")]),t._v("基础的玩家，可以简单了解一下Lua的语法即可进行编写，下面是一些tips")]),t._v(" "),s("ol",[s("li",[t._v("使用"),s("code",[t._v("对象:函数()")]),t._v("的方法来执行函数，注意中间是"),s("code",[t._v(":")]),t._v("不是"),s("code",[t._v(".")])]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("对象.成员变量")]),t._v("等来获取数据")]),t._v(" "),s("li",[t._v("不要对内置对象"),s("code",[t._v("Bot")]),t._v("、"),s("code",[t._v("Level")]),t._v("、"),s("code",[t._v("Region")]),t._v("重新赋值")]),t._v(" "),s("li",[t._v("对于函数内局部变量（类似c语言中的函数内变量）请使用"),s("code",[t._v("local")]),t._v("标识符")])]),t._v(" "),s("h3",{attrs:{id:"其他技巧与说明信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他技巧与说明信息"}},[t._v("#")]),t._v(" 其他技巧与说明信息")]),t._v(" "),s("ol",[s("li",[t._v("建议在非生产环境测试脚本能用后再部署到实际的服务器中，防止出现未知的错误或者崩溃")]),t._v(" "),s("li",[t._v("如果发生错误，可以在控制台看到详细的错误信息（不会输出到游戏内部）")]),t._v(" "),s("li",[t._v("设定"),s("code",[t._v("Tick")]),t._v("执行间隔的时候优先使用"),s("code",[t._v("script")]),t._v("子命令内的参数，而不是使用脚本内计数器的方案，这样可以降低一定卡顿")]),t._v(" "),s("li",[t._v("暂未性能进行测试，如果发现明显的掉刻，请优化自己编写的脚本，减少函数执行频率，甚至停止脚本的使用")]),t._v(" "),s("li",[t._v("不使用该功能时不会产生任何额外的卡顿")]),t._v(" "),s("li",[t._v("如果发现任何（非编程上的）问题，请前往github反馈")])]),t._v(" "),s("h3",{attrs:{id:"实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),s("p",[t._v("下面通过一些简单的例子以介绍如何利用上方的API来开发假人脚本")]),t._v(" "),s("h4",{attrs:{id:"_1-每间隔1秒播报一次自己的相关信息和mspt等信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-每间隔1秒播报一次自己的相关信息和mspt等信息"}},[t._v("#")]),t._v(" 1. 每间隔1秒播报一次自己的相关信息和MSPT等信息")]),t._v(" "),s("div",{staticClass:"language-lua extra-class"},[s("pre",{pre:!0,attrs:{class:"language-lua"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- info.lua")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Tick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MSPT 是 %.3f"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Level"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMeanMspt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"现在的时间是 %d 游戏刻是 %d"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Level"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Level"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我的坐标是%.3f %.3f %.3f"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" hungry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHungry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" health "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHealth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我的饥饿度是 %.3f,我的血量是 %d"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("hungry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("health"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" stand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStandOn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" blockInfo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBlockInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我站的方块坐标是 %.3f %.3f %.3f 脚底的方块类型是 %s id 是 %d"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    stand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("stand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("stand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" blockInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" blockInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("p",[t._v("执行指令 "),s("code",[t._v("/player bot scirpt info.lua 20")]),t._v(" 即可让假人"),s("code",[t._v("bot")]),t._v("20gt执行一次"),s("code",[t._v("Tick()")]),t._v("函数")]),t._v(" "),s("h4",{attrs:{id:"_2-检测到饱食度不满自动吃东西"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-检测到饱食度不满自动吃东西"}},[t._v("#")]),t._v(" 2.  检测到饱食度不满自动吃东西")]),t._v(" "),s("p",[t._v("假设背包内有足够的熟牛肉")]),t._v(" "),s("div",{staticClass:"language-lua extra-class"},[s("pre",{pre:!0,attrs:{class:"language-lua"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- food.lua")]),t._v("\nInterval  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Tick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Interval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Interval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" Interval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--每10s检测一次")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" hunger "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHungry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 获取饥饿度")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" hunger "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 小于18认为饿了")]),t._v("\n            Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cooked_beef"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 从背包搜索熟牛肉并食用")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("    \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("p",[t._v("执行指令 "),s("code",[t._v("/player bot scirpt food.lua")]),t._v(" 即可让假人每10秒检测，如果饥饿度小于18则自动从背包中寻找熟牛肉并吃掉")]),t._v(" "),s("h4",{attrs:{id:"_3-自动搭高"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-自动搭高"}},[t._v("#")]),t._v(" 3. 自动搭高")]),t._v(" "),s("p",[t._v("假设假人背包有足够的石头")]),t._v(" "),s("div",{staticClass:"language-lua extra-class"},[s("pre",{pre:!0,attrs:{class:"language-lua"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- jump.lua")]),t._v("\nInterval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nStand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nil")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Stand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStandOn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 初始化站立的方块")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Tick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Interval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Interval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" Interval "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 每间隔3s跳一次，并记录跳之前的坐标")]),t._v("\n        Stand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStandOn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("jump")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 实时监测假人自身位置，如果足够高就放方块")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.62")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Stand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 跳的高度超过一个方块")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--(pos.y - 1.62)表示假人实时的脚底高度, (Stand.y+1)表示上一个方块的上表面高度")]),t._v("\n        Bot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useItemOnPosition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stone"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Stand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 从上面往下放一个方块（自动从背包搜索石头）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),s("p",[t._v("执行指令 "),s("code",[t._v("/player bot scirpt jump.lua")]),t._v(" 即可让假人每3秒跳一次，并在脚下放置石头")])])}),[],!1,null,null,null);s.default=v.exports}}]);